
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>README（讲师版） · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.1">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="writeup.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    本电子书信息
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">出版信息</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../publish-info/publisher-words.html">
            
                <a href="../../publish-info/publisher-words.html">
            
                    
                    出版者的话
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../publish-info/chinese-preface-1.html">
            
                <a href="../../publish-info/chinese-preface-1.html">
            
                    
                    中文版序一
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../publish-info/chinese-preface-2.html">
            
                <a href="../../publish-info/chinese-preface-2.html">
            
                    
                    中文版序二
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../publish-info/translators-preface.html">
            
                <a href="../../publish-info/translators-preface.html">
            
                    
                    译者序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../publish-info/preface.html">
            
                <a href="../../publish-info/preface.html">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../../publish-info/about-authors.html">
            
                <a href="../../publish-info/about-authors.html">
            
                    
                    关于作者
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../ch01-a-tour-of-computer-systems/">
            
                <a href="../../ch01-a-tour-of-computer-systems/">
            
                    
                    第 1 章：计算机系统漫游
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../ch01-a-tour-of-computer-systems/1.1.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.1.html">
            
                    
                    1.1 信息就是位 + 上下文
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../ch01-a-tour-of-computer-systems/1.2.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.2.html">
            
                    
                    1.2 程序被其他程序翻译成不同的格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../ch01-a-tour-of-computer-systems/1.3.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.3.html">
            
                    
                    1.3 了解编译系统如何工作是大有益处的
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../../ch01-a-tour-of-computer-systems/1.4.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.4.html">
            
                    
                    1.4 处理器读并解释储存在内存中的指令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="../../ch01-a-tour-of-computer-systems/1.5.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.5.html">
            
                    
                    1.5 高速缓存至关重要
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="../../ch01-a-tour-of-computer-systems/1.6.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.6.html">
            
                    
                    1.6 存储设备形成层次结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="../../ch01-a-tour-of-computer-systems/1.7.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.7.html">
            
                    
                    1.7 操作系统管理硬件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="../../ch01-a-tour-of-computer-systems/1.8.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.8.html">
            
                    
                    1.8 系统之间利用网络通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9" data-path="../../ch01-a-tour-of-computer-systems/1.9.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.9.html">
            
                    
                    1.9 重要主题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.10" data-path="../../ch01-a-tour-of-computer-systems/1.10-xiao-jie.html">
            
                <a href="../../ch01-a-tour-of-computer-systems/1.10-xiao-jie.html">
            
                    
                    1.10 小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">第一部分：程序结构和执行</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../part1/ch02-representing-and-manipulating-information/">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/">
            
                    
                    第 2 章：信息的表示和处理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../part1/ch02-representing-and-manipulating-information/2.1-xin-xi-cun-chu.html">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/2.1-xin-xi-cun-chu.html">
            
                    
                    2.1 信息存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../part1/ch02-representing-and-manipulating-information/2.2-zheng-shu-biao-shi.html">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/2.2-zheng-shu-biao-shi.html">
            
                    
                    2.2 整数表示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../../part1/ch02-representing-and-manipulating-information/2.3-zheng-shu-yun-suan.html">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/2.3-zheng-shu-yun-suan.html">
            
                    
                    2.3 整数运算
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../../part1/ch02-representing-and-manipulating-information/2.4-fu-dian-shu.html">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/2.4-fu-dian-shu.html">
            
                    
                    2.4 浮点数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../../part1/ch02-representing-and-manipulating-information/2.5-xiao-jie.html">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/2.5-xiao-jie.html">
            
                    
                    2.5 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../../part1/ch02-representing-and-manipulating-information/jia-ting-zuo-ye.html">
            
                <a href="../../part1/ch02-representing-and-manipulating-information/jia-ting-zuo-ye.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../part1/ch03-machine-level-representing-of-programs/">
            
                <a href="../../part1/ch03-machine-level-representing-of-programs/">
            
                    
                    第 3 章：程序的机器级表示
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../../part1/ch03-machine-level-representing-of-programs/3.1-a-historial-perspective.html">
            
                <a href="../../part1/ch03-machine-level-representing-of-programs/3.1-a-historial-perspective.html">
            
                    
                    3.1 历史观点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../../part1/ch03-machine-level-representing-of-programs/3.2-program-encodings.html">
            
                <a href="../../part1/ch03-machine-level-representing-of-programs/3.2-program-encodings.html">
            
                    
                    3.2 程序编码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="../../part1/ch03-machine-level-representing-of-programs/3.3-data-formats.html">
            
                <a href="../../part1/ch03-machine-level-representing-of-programs/3.3-data-formats.html">
            
                    
                    3.3 数据格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="../../part1/ch03-machine-level-representing-of-programs/3.4-accessing-information.html">
            
                <a href="../../part1/ch03-machine-level-representing-of-programs/3.4-accessing-information.html">
            
                    
                    3.4 访问信息
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../part1/ch04-processor-architecture.html">
            
                <a href="../../part1/ch04-processor-architecture.html">
            
                    
                    第 4 章：处理器体系结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../../part1/ch05-optimizing-program-performance.html">
            
                <a href="../../part1/ch05-optimizing-program-performance.html">
            
                    
                    第 5 章：优化程序性能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../../part1/ch06-the-memory-hierarchy.html">
            
                <a href="../../part1/ch06-the-memory-hierarchy.html">
            
                    
                    第 6 章：存储器层次结构
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">第二部分：在系统上运行程序</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../part2/ch07-linking/">
            
                <a href="../../part2/ch07-linking/">
            
                    
                    第 7 章：链接
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../../part2/ch07-linking/7.1-compiler-drviers.html">
            
                <a href="../../part2/ch07-linking/7.1-compiler-drviers.html">
            
                    
                    7.1 编译器驱动程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../../part2/ch07-linking/7.2-static-linking.html">
            
                <a href="../../part2/ch07-linking/7.2-static-linking.html">
            
                    
                    7.2 静态链接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../../part2/ch07-linking/7.3-object-files.html">
            
                <a href="../../part2/ch07-linking/7.3-object-files.html">
            
                    
                    7.3 目标文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../../part2/ch07-linking/7.4-relocatable-object-files.html">
            
                <a href="../../part2/ch07-linking/7.4-relocatable-object-files.html">
            
                    
                    7.4 可重定位目标文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../../part2/ch07-linking/7.5-symbols-and-symbol-tables.html">
            
                <a href="../../part2/ch07-linking/7.5-symbols-and-symbol-tables.html">
            
                    
                    7.5 符号和符号表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="../../part2/ch07-linking/7.6-symbol-resolution.html">
            
                <a href="../../part2/ch07-linking/7.6-symbol-resolution.html">
            
                    
                    7.6 符号解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.7" data-path="../../part2/ch07-linking/7.7-relocation.html">
            
                <a href="../../part2/ch07-linking/7.7-relocation.html">
            
                    
                    7.7 重定位
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.8" data-path="../../part2/ch07-linking/7.8-executable-object-files.html">
            
                <a href="../../part2/ch07-linking/7.8-executable-object-files.html">
            
                    
                    7.8 可执行目标文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9" data-path="../../part2/ch07-linking/7.9-loading-executable-object-files.html">
            
                <a href="../../part2/ch07-linking/7.9-loading-executable-object-files.html">
            
                    
                    7.9 加载可执行目标文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.10" data-path="../../part2/ch07-linking/7.10-dynamic-linking-with-shared-libraries.html">
            
                <a href="../../part2/ch07-linking/7.10-dynamic-linking-with-shared-libraries.html">
            
                    
                    7.10 动态链接共享库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.11" data-path="../../part2/ch07-linking/7.11-loading-and-linking-shared-libraries-from-applications.html">
            
                <a href="../../part2/ch07-linking/7.11-loading-and-linking-shared-libraries-from-applications.html">
            
                    
                    7.11 从应用程序中加载和链接共享库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.12" data-path="../../part2/ch07-linking/7.12-position-independent-code.html">
            
                <a href="../../part2/ch07-linking/7.12-position-independent-code.html">
            
                    
                    7.12 位置无关代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.13" data-path="../../part2/ch07-linking/7.13-library-interpositioning.html">
            
                <a href="../../part2/ch07-linking/7.13-library-interpositioning.html">
            
                    
                    7.13 库打桩机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.14" data-path="../../part2/ch07-linking/7.14-tools-for-manipulating-object-files.html">
            
                <a href="../../part2/ch07-linking/7.14-tools-for-manipulating-object-files.html">
            
                    
                    7.14 处理目标文件的工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.15" data-path="../../part2/ch07-linking/7.15-summary.html">
            
                <a href="../../part2/ch07-linking/7.15-summary.html">
            
                    
                    7.15 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.16" data-path="../../part2/ch07-linking/homework.html">
            
                <a href="../../part2/ch07-linking/homework.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../part2/ch08-exceptional-control-flow/">
            
                <a href="../../part2/ch08-exceptional-control-flow/">
            
                    
                    第 8 章：异常控制流
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="../../part2/ch08-exceptional-control-flow/8.1-exceptions.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.1-exceptions.html">
            
                    
                    8.1 异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="../../part2/ch08-exceptional-control-flow/8.2-processes.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.2-processes.html">
            
                    
                    8.2 进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.3" data-path="../../part2/ch08-exceptional-control-flow/8.3-system-call-error-handling.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.3-system-call-error-handling.html">
            
                    
                    8.3 系统调用错误处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.4" data-path="../../part2/ch08-exceptional-control-flow/8.4-process-control.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.4-process-control.html">
            
                    
                    8.4 进程控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.5" data-path="../../part2/ch08-exceptional-control-flow/8.5-signals.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.5-signals.html">
            
                    
                    8.5 信号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.6" data-path="../../part2/ch08-exceptional-control-flow/8.6-nonlocal-jumps.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.6-nonlocal-jumps.html">
            
                    
                    8.6 非本地跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.7" data-path="../../part2/ch08-exceptional-control-flow/8.7-tools-for-manipulating-processes.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.7-tools-for-manipulating-processes.html">
            
                    
                    8.7 操作进程的工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.8" data-path="../../part2/ch08-exceptional-control-flow/8.8-summary.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/8.8-summary.html">
            
                    
                    8.8 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.9" data-path="../../part2/ch08-exceptional-control-flow/homework.html">
            
                <a href="../../part2/ch08-exceptional-control-flow/homework.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../part2/ch09-virtual-memory/">
            
                <a href="../../part2/ch09-virtual-memory/">
            
                    
                    第 9 章：虚拟内存
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="../../part2/ch09-virtual-memory/9.1-physical-and-virtual-addressing.html">
            
                <a href="../../part2/ch09-virtual-memory/9.1-physical-and-virtual-addressing.html">
            
                    
                    9.1 物理和虚拟寻址
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.2" data-path="../../part2/ch09-virtual-memory/9.2-address-spaces.html">
            
                <a href="../../part2/ch09-virtual-memory/9.2-address-spaces.html">
            
                    
                    9.2 地址空间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.3" data-path="../../part2/ch09-virtual-memory/9.3-vm-as-a-tool-for-caching.html">
            
                <a href="../../part2/ch09-virtual-memory/9.3-vm-as-a-tool-for-caching.html">
            
                    
                    9.3 虚拟内存作为缓存的工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.4" data-path="../../part2/ch09-virtual-memory/9.4-vm-as-a-tool-for-memory-management.html">
            
                <a href="../../part2/ch09-virtual-memory/9.4-vm-as-a-tool-for-memory-management.html">
            
                    
                    9.4 虚拟内存作为内存管理的工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.5" data-path="../../part2/ch09-virtual-memory/9.5-vm-as-a-tool-for-memory-protection.html">
            
                <a href="../../part2/ch09-virtual-memory/9.5-vm-as-a-tool-for-memory-protection.html">
            
                    
                    9.5 虚拟内存作为内存保护的工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.6" data-path="../../part2/ch09-virtual-memory/9.6-address-translation.html">
            
                <a href="../../part2/ch09-virtual-memory/9.6-address-translation.html">
            
                    
                    9.6 地址翻译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.7" data-path="../../part2/ch09-virtual-memory/9.7-case-study-the-intel-core-i7-linux-memory-system.html">
            
                <a href="../../part2/ch09-virtual-memory/9.7-case-study-the-intel-core-i7-linux-memory-system.html">
            
                    
                    9.7 案例研究：Intel Core i7 / Linux 内存系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.8" data-path="../../part2/ch09-virtual-memory/9.8-memory-mapping.html">
            
                <a href="../../part2/ch09-virtual-memory/9.8-memory-mapping.html">
            
                    
                    9.8 内存映射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.9" data-path="../../part2/ch09-virtual-memory/9.9-dynamic-memory-allocation.html">
            
                <a href="../../part2/ch09-virtual-memory/9.9-dynamic-memory-allocation.html">
            
                    
                    9.9 动态内存分配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.10" data-path="../../part2/ch09-virtual-memory/9.10-garbage-collection.html">
            
                <a href="../../part2/ch09-virtual-memory/9.10-garbage-collection.html">
            
                    
                    9.10 垃圾收集
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.11" data-path="../../part2/ch09-virtual-memory/9.11-common-memoory-related-bugs-in-c-programs.html">
            
                <a href="../../part2/ch09-virtual-memory/9.11-common-memoory-related-bugs-in-c-programs.html">
            
                    
                    9.11 C 程序中常见的与内存有关的错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.12" data-path="../../part2/ch09-virtual-memory/9.12-summary.html">
            
                <a href="../../part2/ch09-virtual-memory/9.12-summary.html">
            
                    
                    9.12 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.13" data-path="../../part2/ch09-virtual-memory/homework.html">
            
                <a href="../../part2/ch09-virtual-memory/homework.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">第三部分：程序间的交互和通信</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../part3/ch10-system-level-io/">
            
                <a href="../../part3/ch10-system-level-io/">
            
                    
                    第 10 章：系统级 I/O
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../part3/ch10-system-level-io/10.1-unix-io.html">
            
                <a href="../../part3/ch10-system-level-io/10.1-unix-io.html">
            
                    
                    10.1 Unix I/O
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../part3/ch10-system-level-io/10.2-files.html">
            
                <a href="../../part3/ch10-system-level-io/10.2-files.html">
            
                    
                    10.2 文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../../part3/ch10-system-level-io/10.3-opening-and-closing-files.html">
            
                <a href="../../part3/ch10-system-level-io/10.3-opening-and-closing-files.html">
            
                    
                    10.3 打开和关闭文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.4" data-path="../../part3/ch10-system-level-io/10.4-reading-and-writing-files.html">
            
                <a href="../../part3/ch10-system-level-io/10.4-reading-and-writing-files.html">
            
                    
                    10.4 读和写文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.5" data-path="../../part3/ch10-system-level-io/10.5-robust-reading-and-writing-with-the-rio-package.html">
            
                <a href="../../part3/ch10-system-level-io/10.5-robust-reading-and-writing-with-the-rio-package.html">
            
                    
                    10.5 用 RIO 包健壮地读写
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.6" data-path="../../part3/ch10-system-level-io/10.6-reading-file-metadata.html">
            
                <a href="../../part3/ch10-system-level-io/10.6-reading-file-metadata.html">
            
                    
                    10.6 读取文件元数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.7" data-path="../../part3/ch10-system-level-io/10.7-reading-directory-contents.html">
            
                <a href="../../part3/ch10-system-level-io/10.7-reading-directory-contents.html">
            
                    
                    10.7 读取目录内容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.8" data-path="../../part3/ch10-system-level-io/10.8-sharing-files.html">
            
                <a href="../../part3/ch10-system-level-io/10.8-sharing-files.html">
            
                    
                    10.8 共享文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.9" data-path="../../part3/ch10-system-level-io/10.9-io-redirection.html">
            
                <a href="../../part3/ch10-system-level-io/10.9-io-redirection.html">
            
                    
                    10.9 I/O 重定向
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.10" data-path="../../part3/ch10-system-level-io/10.10-standard-io.html">
            
                <a href="../../part3/ch10-system-level-io/10.10-standard-io.html">
            
                    
                    10.10 标准 I/O
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.11" data-path="../../part3/ch10-system-level-io/10.11-putting-it-together-which-io-functions-should-i-use.html">
            
                <a href="../../part3/ch10-system-level-io/10.11-putting-it-together-which-io-functions-should-i-use.html">
            
                    
                    10.11 综合：我该使用哪些 I/O 函数？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.12" data-path="../../part3/ch10-system-level-io/10.12-summary.html">
            
                <a href="../../part3/ch10-system-level-io/10.12-summary.html">
            
                    
                    10.12 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.13" data-path="../../part3/ch10-system-level-io/homework.html">
            
                <a href="../../part3/ch10-system-level-io/homework.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../../part3/ch11-network-programming/">
            
                <a href="../../part3/ch11-network-programming/">
            
                    
                    第 11 章：网络编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.2.1" data-path="../../part3/ch11-network-programming/11.1-the-client-server-programming-model.html">
            
                <a href="../../part3/ch11-network-programming/11.1-the-client-server-programming-model.html">
            
                    
                    11.1 客户端—服务器编程模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.2" data-path="../../part3/ch11-network-programming/11.2-networks.html">
            
                <a href="../../part3/ch11-network-programming/11.2-networks.html">
            
                    
                    11.2 网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.3" data-path="../../part3/ch11-network-programming/11.3-the-global-ip-internet.html">
            
                <a href="../../part3/ch11-network-programming/11.3-the-global-ip-internet.html">
            
                    
                    11.3 全球 IP 因特网
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.4" data-path="../../part3/ch11-network-programming/11.4-the-sockets-interface.html">
            
                <a href="../../part3/ch11-network-programming/11.4-the-sockets-interface.html">
            
                    
                    11.4 套接字接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.5" data-path="../../part3/ch11-network-programming/11.5-web-servers.html">
            
                <a href="../../part3/ch11-network-programming/11.5-web-servers.html">
            
                    
                    11.5 Web 服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.6" data-path="../../part3/ch11-network-programming/11.6-putting-it-together-the-tiny-web-server.html">
            
                <a href="../../part3/ch11-network-programming/11.6-putting-it-together-the-tiny-web-server.html">
            
                    
                    11.6 综合：TINY Web 服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.7" data-path="../../part3/ch11-network-programming/11.7-summary.html">
            
                <a href="../../part3/ch11-network-programming/11.7-summary.html">
            
                    
                    11.7 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.8" data-path="../../part3/ch11-network-programming/homework.html">
            
                <a href="../../part3/ch11-network-programming/homework.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../../part3/ch12-concurrent-programming/">
            
                <a href="../../part3/ch12-concurrent-programming/">
            
                    
                    第 12 章：并发编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.3.1" data-path="../../part3/ch12-concurrent-programming/12.1-concurrent-programming-with-processes.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.1-concurrent-programming-with-processes.html">
            
                    
                    12.1 基于进程的并发编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.2" data-path="../../part3/ch12-concurrent-programming/12.2-concurrent-programming-with-io-multiplexing.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.2-concurrent-programming-with-io-multiplexing.html">
            
                    
                    12.2 基于 I/O 多路复用的并发编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.3" data-path="../../part3/ch12-concurrent-programming/12.3-concurrent-programming-with-threads.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.3-concurrent-programming-with-threads.html">
            
                    
                    12.3 基于线程的并发编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.4" data-path="../../part3/ch12-concurrent-programming/12.4-shared-variables-in-threaded-programs.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.4-shared-variables-in-threaded-programs.html">
            
                    
                    12.4 多线程程序中的共享变量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.5" data-path="../../part3/ch12-concurrent-programming/12.5-synchronizing-thread-with-semaphores.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.5-synchronizing-thread-with-semaphores.html">
            
                    
                    12.5 用信号量同步线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.6" data-path="../../part3/ch12-concurrent-programming/12.6-using-threads-for-parallelism.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.6-using-threads-for-parallelism.html">
            
                    
                    12.6 使用线程提高并行性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.7" data-path="../../part3/ch12-concurrent-programming/12.7-other-concurrency-issues.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.7-other-concurrency-issues.html">
            
                    
                    12.7 其他并发问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.8" data-path="../../part3/ch12-concurrent-programming/12.8-summary.html">
            
                <a href="../../part3/ch12-concurrent-programming/12.8-summary.html">
            
                    
                    12.8 小结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.9" data-path="../../part3/ch12-concurrent-programming/homework.html">
            
                <a href="../../part3/ch12-concurrent-programming/homework.html">
            
                    
                    家庭作业
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../appendix-error-handling.html">
            
                <a href="../../appendix-error-handling.html">
            
                    
                    附录 A：错误处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../references.html">
            
                <a href="../../references.html">
            
                    
                    参考文献
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">实验</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../labs-overview/">
            
                <a href="../labs-overview/">
            
                    
                    实验总览
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="../labs-overview/common-problems.html">
            
                <a href="../labs-overview/common-problems.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../data-lab/">
            
                <a href="../data-lab/">
            
                    
                    实验 1：Data Lab
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.2.1" data-path="../data-lab/readme-instructor.html">
            
                <a href="../data-lab/readme-instructor.html">
            
                    
                    README（讲师版）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2.2" data-path="../data-lab/readme-student.html">
            
                <a href="../data-lab/readme-student.html">
            
                    
                    README（学生版）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2.3" data-path="../data-lab/writeup.html">
            
                <a href="../data-lab/writeup.html">
            
                    
                    Writeup
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="./">
            
                <a href="./">
            
                    
                    实验 2：Bomb Lab
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="8.3.1" data-path="readme-jiang-shi-ban.html">
            
                <a href="readme-jiang-shi-ban.html">
            
                    
                    README（讲师版）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3.2" data-path="writeup.html">
            
                <a href="writeup.html">
            
                    
                    Writeup
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="../attack-lab.html">
            
                <a href="../attack-lab.html">
            
                    
                    实验 3：Attack Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="../arch-lab.html">
            
                <a href="../arch-lab.html">
            
                    
                    实验 4：Architechture Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="../cache-lab.html">
            
                <a href="../cache-lab.html">
            
                    
                    实验 5：Cache Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="../perf-lab.html">
            
                <a href="../perf-lab.html">
            
                    
                    实验 6：Performance Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.8" data-path="../shell-lab.html">
            
                <a href="../shell-lab.html">
            
                    
                    实验 7：Shell Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.9" data-path="../malloc-lab.html">
            
                <a href="../malloc-lab.html">
            
                    
                    实验 8：Malloc Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.10" data-path="../proxy-lab.html">
            
                <a href="../proxy-lab.html">
            
                    
                    实验 9：Proxy Lab
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >README（讲师版）</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="readme（讲师版）">README（讲师版）</h1>
<blockquote>
<p>CS:APP Bomb Lab</p>
<p>给讲师的指导</p>
<p>Copyright (c) 2003-2016, R. Bryant and D. O&apos;Hallaron</p>
</blockquote>
<p>此目录包含你用于构建和运行 CS:APP Bomb Lab 的文件。Bomb Lab 教授学生机器级程序的原理，以及一般的调试器和逆向工程技能。</p>
<h2 id="1-概述">1. 概述</h2>
<h3 id="11-二进制炸弹">1.1 二进制炸弹</h3>
<p>一个“二进制炸弹”是由六个 “阶段” 组成的 Linux 可执行 C 程序，每个阶段都要求学生在 stdin 上输入一个特定的字符串。如果学生输入预期的字符串，则该阶段为 “拆除”，否则炸弹则打印 “BOOM!!!” 表示“爆炸”。学生们的目标是拆除尽可能多的阶段。</p>
<h3 id="12-解决二进制炸弹">1.2 解决二进制炸弹</h3>
<p>为了拆除炸弹，学生必须使用一个调试器，通常是 gdb 或 ddd，在每个阶段反汇编二进制文件，并对机器码单步调试。想法是让学生理解每个汇编语句的作用，然后使用这些知识来推断要拆除的字符串。学生通过拆除阶段获得分数，每次爆炸都会损失分数（由讲师配置，但通常为 1/2 分）。因此，他们将很快学会在每个阶段和引爆炸弹的函数之前设置断点。这是一个很好的教训，迫使他们学会使用调试器。</p>
<h3 id="13-自动评分服务">1.3 自动评分服务</h3>
<p>我们创建了一个独立的用户级自动评分服务，为你处理 Bomb Lab 的所有方面：学生从服务器下载他们的炸弹。当学生们在研究他们的炸弹时，每一次爆炸和拆除都会传回到服务器上，在服务器上，每个炸弹的当前结果都会显示在一个网络“记分板”上。没有明显的提交，实验会自己评分。</p>
<p>自动评分服务由四个用户级程序组成，这些程序运行在 ./bomblab 主目录中：</p>
<ul>
<li>请求服务器（bomblab-requestd.pl）。学生下载炸弹并显示记分牌，方法是将浏览器指向一个名为“请求服务器”的简单 HTTP 服务器。请求服务器生成炸弹，将其存档在 tar 文件中，然后将生成的 tar 文件上传回浏览器，在浏览器中可以将其保存在磁盘上并解压。请求服务器还为讲师创建炸弹及其解答的副本。</li>
<li>结果服务器（bomblab-resultd.pl）。每次学生拆除炸弹阶段或引起爆炸时，炸弹都会向 HTTP “结果服务器”发送一条名为 “自动结果字符串” 的简短 HTTP 消息，该服务器只是将自动结果字符串附加到“记分板日志文件”中。</li>
<li>报告守护<strong>进程</strong>（bomblab-reportd.pl）。“报告守护进程”定期扫描记分板日志文件。报表守护进程查找每个学生为每个阶段提交的最新的拆除字符串，并将这些字符串应用于学生炸弹的本地副本，来验证这些字符串。然后它会更新 HTML 记分板，该记分板汇总了每枚炸弹的当前爆炸和拆除次数，按累计点数排序。</li>
<li>主守护进程（bomblab.pl）. “主守护进程”启动并保护请求服务器、结果服务器和报表守护进程，确保这些进程（以及它本身）在任何时间点都在运行。如果其中一个进程由于某种原因死亡，主守护进程会检测到并自动重新启动它。主守护进程是您实际需要运行的唯一程序。</li>
</ul>
<h2 id="2-文件">2. 文件</h2>
<p>./bomblab 目录包含下列文件：</p>
<table>
<thead>
<tr>
<th style="text-align:left">文件名</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Makefile</td>
<td style="text-align:left">开始/停止实验和清除文件</td>
</tr>
<tr>
<td style="text-align:left">bomblab.pl*</td>
<td style="text-align:left">主守护进程，守护其他服务器和守护进程</td>
</tr>
<tr>
<td style="text-align:left">Bomblab.pm</td>
<td style="text-align:left">Bomb Lab 配置文件</td>
</tr>
<tr>
<td style="text-align:left">bomblab-reportd.pl*</td>
<td style="text-align:left">报告守护进程，持续更新记分板</td>
</tr>
<tr>
<td style="text-align:left">bomblab-requestd.pl*</td>
<td style="text-align:left">请求服务器，将炸弹提供给学生</td>
</tr>
<tr>
<td style="text-align:left">bomblab-resultd.pl*</td>
<td style="text-align:left">结果服务器，从炸弹得到自动结果字符串</td>
</tr>
<tr>
<td style="text-align:left">bomblab-scoreboard.html</td>
<td style="text-align:left">实时网络记分板</td>
</tr>
<tr>
<td style="text-align:left">bomblab-update.pl*</td>
<td style="text-align:left">帮助 bomblab-reportd.pl 更新记分板</td>
</tr>
<tr>
<td style="text-align:left">bombs/</td>
<td style="text-align:left">包含发送给每个学生的炸弹</td>
</tr>
<tr>
<td style="text-align:left">log-status.txt</td>
<td style="text-align:left">状态日志，来自不同服务器和守护进程的消息</td>
</tr>
<tr>
<td style="text-align:left">log.txt</td>
<td style="text-align:left">自动结果记分板日志，接受自炸弹</td>
</tr>
<tr>
<td style="text-align:left">makebomb.pl*</td>
<td style="text-align:left">帮助脚本，用于制作炸弹</td>
</tr>
<tr>
<td style="text-align:left">scores.txt</td>
<td style="text-align:left">合计每个学生的当前记分板分数</td>
</tr>
<tr>
<td style="text-align:left">src/</td>
<td style="text-align:left">炸弹源文件</td>
</tr>
<tr>
<td style="text-align:left">writeup/</td>
<td style="text-align:left">Bomb Lab 的 LaTeX 报告样例</td>
</tr>
</tbody>
</table>
<h2 id="3-炸弹术语">3. 炸弹术语</h2>
<ul>
<li><strong>LabID</strong>：该实验的每个实例（用品）都由唯一的名称标识，例如 “f12” 或 “s13”，由讲师选择。和当前 LabID 不同的炸弹的爆炸和拆除动作将被忽略。LabID 不能有空格。</li>
<li><strong>BombID</strong>：实验给定实例中的每个炸弹都有唯一的非负整数，称为 “bombID”。</li>
<li><strong>通知炸弹</strong>（Notifying Bomb）：一个炸弹可以用一个 NOTIFY 选项编译，当学生每次爆炸或拆除一个阶段时，炸弹都会发送一条消息。这种炸弹被称为“通知炸弹”。</li>
<li><strong>安静炸弹</strong>（Quiet Bomb）：如果使用 NONOTIFY 选项编译，则炸弹在爆炸或拆除时不会发送任何消息。这种炸弹被称为“安静炸弹”。</li>
</ul>
<p>我们还会发现区分定制炸弹和普通炸弹很有帮助：</p>
<ul>
<li><strong>定制炸弹</strong>（Custom Bomb）：“定制炸弹”的 BombID &gt; 0，与特定学生关联，可以是通知的或安静的。定制的通知炸弹被限制在讲师确定的一组特定的 Linux 主机上运行。另一方面，定制的安静炸弹可以在任何 Linux 主机上运行。</li>
<li><strong>通用炸弹</strong>（Generic Bomb）：一个“通用炸弹”的 BombID = 0，与任何特定的学生没有关联，是安静的，因此可以在任何主机上运行。</li>
</ul>
<h2 id="4-提供炸弹实验">4. 提供炸弹实验</h2>
<p>Bomb Lab 有两种基础版本：在“在线”版本中，讲师使用自动评分服务向每个学生分发定制的通知炸弹，并在实时记分板上自动跟踪他们的进度。在“离线”版本中，讲师手动制作、分发和评分学生炸弹，而不使用自动评分服务。</p>
<p>虽然这两个版本都给了学生丰富的经验，我们推荐在线版本。对于学生来说，这显然是最吸引人和最有趣的，也是老师最容易评分的。但是，它要求你不停地运行自动评分服务，因为在实验期间，讲义、评分和报告都是连续不断地进行的。我们已经使这项服务非常容易运行，但是一些讲师可能不喜欢这个要求，而是选择离线版本。</p>
<p>以下是提供两个版本的实验的说明。</p>
<h3 id="41-创建一个-bomb-lab-目录">4.1 创建一个 Bomb Lab 目录</h3>
<p>确定要创建 Bomb Lab 目录（<strong>./bomblab</strong>）的通用 Linux 机器（<strong>$SERVER_NAME</strong>），如果提供联机版本，请运行自动评分服务。你只需在这台机器上有一个用户帐户，不需要 root 权限。 Bomb Lab 的每个实例启动时，都伴随着 $SERVER_NAME 上一个全新的 <strong>./bomblab</strong> 目录。例如：</p>
<pre><code class="lang-c">linux&gt; tar xvf bomblab.tar
linux&gt; cd bomblab   
linux&gt; make cleanallfiles
</code></pre>
<h3 id="42-配置-bomb-lab">4.2 配置 Bomb Lab</h3>
<p>通过编辑以下文件配置 Bomb Lab：</p>
<ul>
<li><strong>./Bomblab.pm：</strong>这是主配置文件。你只需修改或检查此文件第 1 节的几个变量。每个变量前面都有一个描述性注释。如果提供离线版本，那么可以忽略其中的大多数设置。</li>
</ul>
<p>如果你提供在线版本，则还需要编辑以下文件：</p>
<ul>
<li><strong>./src/config.h：</strong>此文件列出了允许运行炸弹的主机的域名。确保你正确地更新了这个，否则你和你的学生将无法运行你的炸弹。</li>
</ul>
<h3 id="43-更新实验报告">4.3 更新实验报告</h3>
<p>更新完配置文件后，请根据你的环境，修改 <strong>writeup/bomblab.tex</strong> 中的 LaTeX 报告。然后在 <strong>./writeup</strong> 目录中键入以下内容：</p>
<pre><code class="lang-c">unix&gt; make clean
unix&gt; make
</code></pre>
<p>这会创建报告的 ps 和 pdf 版本。</p>
<h3 id="44-运行在线-bomb-lab">4.4 运行在线 Bomb Lab</h3>
<h4 id="441-简短版本">4.4.1 简短版本</h4>
<p>来自 ./bomblab 目录：</p>
<p>（1）重置 Bomb Lab，键入：</p>
<pre><code class="lang-c">linux&gt; make cleanallfiles
</code></pre>
<p>（2）开启自动评分服务，键入：</p>
<pre><code class="lang-c">linux&gt; make start
</code></pre>
<p>（3）停止自动评分服务，键入：</p>
<pre><code class="lang-text">linux&gt; make stop
</code></pre>
<p>你可以随时开启和停止自动评分服务，这不会丢失任何信息。如果不确定服务状态，输入 “<strong>make stop; make start</strong>” 可以让一切都进入稳定状态。</p>
<p>但是，重置实验室删除所有旧的炸弹、状态日志和记分板日志。只有在调试期间，或者第一次为学生开启实验时，才可以这样做。</p>
<p>学生用浏览器访问如下网址请求炸弹：</p>
<p><strong><a href="http://$SERVER\_NAME:$REQUESTD\_PORT/" target="_blank">http://$SERVER\_NAME:$REQUESTD\_PORT/</a></strong></p>
<p>学生用浏览器访问如下网址查看记分板：</p>
<p><strong><a href="http://$SERVER\_NAME:$REQUESTD\_PORT/scoreboard" target="_blank">http://$SERVER\_NAME:$REQUESTD\_PORT/scoreboard</a></strong></p>
<h4 id="442-较长版本"><strong>4.4.2 较长版本</strong></h4>
<p>（1）重置 Bomb Lab。“make stop” 确保没有服务器在运行。“make cleanallfiles” 重置实验，删除实验中特定实例的所有数据，例如状态日志、请求服务器创建的所有炸弹以及记分板日志。当你准备好将实验“上线”给学生时，就这样做。</p>
<p>你准备实验的时候，重置也很有用。在实验上线之前，你可能想为自己请求一些炸弹，运行它们，拆除一些，引爆一些，并确保结果在记分板上正确显示。如果出现问题（比如因为你忘记更新 src/config.h 中允许运行炸弹的机器列表），你可以修复配置，重置实验，然后请求并运行更多的测试炸弹。</p>
<p><strong>注意：如果你在开启实验后重新设置，你将丢失所有学生炸弹记录和他们的解答。你不能验证学生提交的内容。你的学生就得获得新的炸弹并重新开始。</strong></p>
<p>（2）开启 Bomb Lab。“make start” 运行 bomblab.pl，主守护进程启动并监视服务中的其他程序，每隔几秒检查它们的状态，如有必要则重启它们：</p>
<p>（3）停止 Bomb Lab。“make start” 会关闭所有正在运行的服务器。您可以随时开启和停止自动评分服务，而不会丢失任何信息。如果不确定服务状态，输入 “make stop; make start” 可以让一切都进入稳定状态。</p>
<p>请求服务器：请求服务器是一个简单的专用HTTP服务器，它（1）根据需要制作并向学生的浏览器提供自定义炸弹，（2）显示实时记分板的当前状态。</p>
<p>学生通过两个步骤从请求守护进程请求炸弹：</p>
<ul>
<li>首先，学生用他们最喜欢的浏览器访问 <strong><a href="http://$SERVER\_NAME:$REQUESTD\_PORT/。" target="_blank">http://$SERVER\_NAME:$REQUESTD\_PORT/。</a></strong>例如，<a href="http://foo.cs.cmu.edu**:**15213/。请求服务器产生相应，将" target="_blank">http://foo.cs.cmu.edu**:**15213/。请求服务器产生相应，将</a> HTML 表单发送回浏览器。</li>
<li>接着，学生用他们的用户名和电子邮件地址填写此表单，然后提交表单。请求服务器解析表单，制作一个 bombID = n 的定制的通知炸弹，并将 tar 文件发送到浏览器。然后学生将 tar 文件保存到磁盘上。当学生解压此文件时，会创建一个目录（./bomb），其中包含以下四个文件：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">文件名</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">bomb*</td>
<td style="text-align:left">定制的通知炸弹可执行程序</td>
</tr>
<tr>
<td style="text-align:left">bomb.c</td>
<td style="text-align:left">主炸弹程序的源码</td>
</tr>
<tr>
<td style="text-align:left">ID</td>
<td style="text-align:left">标识与该炸弹有关的学生</td>
</tr>
<tr>
<td style="text-align:left">README</td>
<td style="text-align:left">列出炸弹号码、学生和电子邮件地址</td>
</tr>
<tr>
<td style="text-align:left">solution.txt</td>
<td style="text-align:left">该炸弹的解答</td>
</tr>
</tbody>
</table>
<p>结果服务器：每次学生拆除一个阶段或引爆炸弹时，炸弹都会向结果服务器发送一条 HTTP 消息（称为自动结果字符串（autoresult string）），然后结果服务器将消息附加到记分板日志中。每个消息都包含一个 BombID、一个阶段和所发生事件的标示。如果是拆除事件，则消息还包含学生键入的“拆除字符串（defusing string）”以消除阶段。</p>
<p>报告守护进程：报告守护进程定期扫描记分板日志并更新网络记分板。对于每个炸弹，它统计爆炸的次数，最后一个拆除阶段，使用一个安静炸弹的副本验证每个最后拆除的阶段，并在一个标签分隔的文本文件中计算每个学生的分数，该文件名为 “scores. txt” 更新频率适中的配置变量 Bomblab.pm。</p>
<p>讲师和学生使用浏览器访问以下地址查看记分板：</p>
<p><strong><a href="http://$SERVER\_NAME:$REQUESTD\_PORT/scoreboard" target="_blank">http://$SERVER\_NAME:$REQUESTD\_PORT/scoreboard</a></strong></p>
<h4 id="443-为在线-bomb-lab-评分">4.4.3. 为<strong>在线 Bomb Lab 评分</strong></h4>
<p>在线的炸弹实验可以自己评分。在任何时间点，制表符分隔的文件（./bomblab/scores.txt)包含每个学生的最新分数。这个文件是由报告守护进程在每次生成新的记分板时创建的。</p>
<h4 id="444-在线-bomb-lab-的补充说明">4.4.4 在线 Bomb Lab 的补充说明</h4>
<p>由于请求服务器和报告守护进程都需要执行炸弹，因此必须在 bomblab/src/config.h 文件的合法计算机列表中包含 $server_NAME。</p>
<p>所有的服务器和守护进程都是无状态（stateless）的，所以您可以随意多次停止（“make stop”）和开启（“make start”）实验，而不会产生任何不良影响。如果您不小心杀死了其中一个守护进程，或者修改了一个守护进程，或者该守护进程由于某种原因死亡，那么请使用 “make stop” 进行清理，然后使用 “make start” 重新启动。如果 Linux 机器崩溃或重启，只需使用 “make start” 重新启动守护进程。</p>
<p>来自服务器的信息和错误消息被添加到“状态日志” bomblab/log-status.txt 中。服务器安静地运行，因此可以在启动时从 init.rc 脚本启动它们。</p>
<p>请参阅 src/README，了解更多关于炸弹的解剖结构以及它们是如何构造的。你不需要理解这些来提供实验，给出它们只是为了完整。</p>
<p>在将实验“上线”给学生之前，我们喜欢做些测试来检查一切，需键入以下内容：</p>
<pre><code class="lang-c">linux&gt; make cleanallfiles   
linux&gt; make start
</code></pre>
<p>然后我们用浏览器访问如下地址，为自己请求一个炸弹：</p>
<p><strong><a href="http://$SERVER\_NAME:$REQUESTD\_PORT" target="_blank">http://$SERVER\_NAME:$REQUESTD\_PORT</a></strong></p>
<p>在保存炸弹到磁盘后，我们将其解压，复制到 src/config.h 里已批准列表中的一台主机上，然后对其进行多次引爆和拆除，以确保爆炸和拆除正确记录在记分板上，可以在这里检查：</p>
<p><strong><a href="http://$SERVER\_NAME:$REQUESTD\_PORT/scoreboard" target="_blank">http://$SERVER\_NAME:$REQUESTD\_PORT/scoreboard</a></strong></p>
<p>一旦我们确信一切正常，我们就停止实验：</p>
<pre><code class="lang-c">linux&gt; make stop
</code></pre>
<p>然后将其上线：</p>
<pre><code class="lang-c">linux&gt; make cleanallfiles
linux&gt; make start
</code></pre>
<p>一旦实验上线，我们可根据需要输入 “make stop” 和 “make start”，但要小心绝不能再次输入 “make cleanallfiles”。</p>
<h4 id="45-运行离线-bomb-lab">4.5 运行离线 Bomb Lab</h4>
<p>在这个版本的实验中，你可以手动制作你自己的安静炸弹，然后把它们分发给学生。学生们在离线状态下（即，独立于任何自动评分服务）拆除炸弹，然后将他们的解答文件交给你，每个文件都由你手动评分。</p>
<p>你可以使用 makebomb.pl 脚本手动制作自己的炸弹。这个 makebomb.pl 脚本也生成炸弹的解答。键入 “./makebomb.pl -h” 查看其参数。</p>
<p><strong>选项 1：</strong>提供离线炸弹实验室的最简单方法，是制造一个单一的通用炸弹，每个学生都试图将其拆除：</p>
<pre><code class="lang-c">linux&gt; ./makebomb.pl -s ./src -b ./bombs
</code></pre>
<p>这会在 ./bombs/bomb0 下面创建一个通用炸弹和其他文件：</p>
<table>
<thead>
<tr>
<th style="text-align:left">文件名</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">bomb*</td>
<td style="text-align:left">通用炸弹执行程序（分发给学生）</td>
</tr>
<tr>
<td style="text-align:left">bomb.c</td>
<td style="text-align:left">主程序的源代码（分发给学生）</td>
</tr>
<tr>
<td style="text-align:left">bomb-quiet*</td>
<td style="text-align:left">请忽略该文件</td>
</tr>
<tr>
<td style="text-align:left">ID</td>
<td style="text-align:left">请忽略该文件</td>
</tr>
<tr>
<td style="text-align:left">phases.c</td>
<td style="text-align:left">炸弹阶段的 C 代码</td>
</tr>
<tr>
<td style="text-align:left">README</td>
<td style="text-align:left">请忽略该文件</td>
</tr>
<tr>
<td style="text-align:left">solution.txt</td>
<td style="text-align:left">该炸弹的解答</td>
</tr>
</tbody>
</table>
<p>你只向学生分发其中两个文件：./bomb 和./bomb.c。</p>
<p>学生提交他们的解答文件，你可以将解答输入给炸弹来验证：</p>
<pre><code class="lang-c">linux&gt; cd bombs/bomb0
linux&gt; ./bomb &lt; student_solution.txt
</code></pre>
<p>这个选项对老师来说很容易，但是我们不推荐它，因为它太容易让学生作弊了。</p>
<p><strong>选项 2。</strong>提供离线实验的另一个选项是使用 makebomb.pl 脚本，为每个学生制作一个唯一的定制的安静炸弹：</p>
<pre><code class="lang-c">linux&gt; ./makebomb.pl -i &lt;n&gt; -s ./src -b ./bombs -l bomblab -u &lt;email&gt; -v &lt;uid&gt;
</code></pre>
<p>这将为电子邮件地址为 &lt;email&gt; 且用户名为 &lt;uid&gt; 的学生在 ./bombs/bomb 中创建一个定制的安静炸弹：</p>
<table>
<thead>
<tr>
<th style="text-align:left">文件名</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">bomb*</td>
<td style="text-align:left">定制的炸弹执行程序（分发给学生）</td>
</tr>
<tr>
<td style="text-align:left">bomb.c</td>
<td style="text-align:left">主程序的源代码（分发给学生）</td>
</tr>
<tr>
<td style="text-align:left">bomb-quiet*</td>
<td style="text-align:left">请忽略该文件</td>
</tr>
<tr>
<td style="text-align:left">ID</td>
<td style="text-align:left">标识与该炸弹关联的学生</td>
</tr>
<tr>
<td style="text-align:left">phases.c</td>
<td style="text-align:left">炸弹阶段的 C 代码</td>
</tr>
<tr>
<td style="text-align:left">README</td>
<td style="text-align:left">列出炸弹号码、学生和电子邮件地址</td>
</tr>
<tr>
<td style="text-align:left">solution.txt</td>
<td style="text-align:left">该炸弹的解答</td>
</tr>
</tbody>
</table>
<p>你将向学生分发其中的四个文件：bomb、bomb.c、ID 和 README。</p>
<p>每个学生都将提交他们的解答文件，你可以针对运行他们的解答运行他们的定制炸弹，来手动验证：</p>
<pre><code class="lang-c">linux&gt; cd ./bombs/bomb&lt;n&gt;
linux&gt; ./bomb &lt; student_n_solution.txt
</code></pre>
<p>不同阶段变种的源代码在 ./src/phases/ 中。</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 实验 2：Bomb Lab">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="writeup.html" class="navigation navigation-next " aria-label="Next page: Writeup">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"README（讲师版）","level":"8.3.1","depth":2,"next":{"title":"Writeup","level":"8.3.2","depth":2,"path":"labs/bomb-lab/writeup.md","ref":"labs/bomb-lab/writeup.md","articles":[]},"previous":{"title":"实验 2：Bomb Lab","level":"8.3","depth":1,"path":"labs/bomb-lab/README.md","ref":"labs/bomb-lab/README.md","articles":[{"title":"README（讲师版）","level":"8.3.1","depth":2,"path":"labs/bomb-lab/readme-jiang-shi-ban.md","ref":"labs/bomb-lab/readme-jiang-shi-ban.md","articles":[]},{"title":"Writeup","level":"8.3.2","depth":2,"path":"labs/bomb-lab/writeup.md","ref":"labs/bomb-lab/writeup.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hints","page-ref","mathjax-pro"],"pluginsConfig":{"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-circle","working":"fa fa-wrench"},"page-ref":{},"mathjax-pro":{"forceSVG":false,"version":"2.7.7"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"labs/bomb-lab/readme-jiang-shi-ban.md","mtime":"2022-04-29T14:04:53.351Z","type":"markdown"},"gitbook":{"version":"3.7.1","time":"2022-04-30T05:14:56.515Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mathjax-pro/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

